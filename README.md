# 用`CSS3`制作旋转的闭合圆

## 我们先来看看我们要是实现的[效果吧](https://swnb.github.io/htmlCssJs/loading.html)<<==[点它]

## 那上面的demo具体怎么用css实现呢?

## 下面会详细讲解;

***

### 	首先，我们需要4个半圆,我把他们分别称为

* ### 背景半圆左,简称背左，图层为**1**;

* ### 背景半圆右,简称背右，图层为**3**;

* ### 动态半圆左,简称动左，图层为**2**;

* ### 动态半圆右，简称动右，图层为**4**;

>  简述图层：让DOM元素脱离文档流，实现图层的分离（图层数越高的越靠近观察者）;

***

> ### 	设置背景半圆的作用主要是要为图层的转换作铺垫;设置动态半圆的作用不仅仅是图层的变化，还是旋转的变化。下面，我将详细讲解，如果有更好的方法，欢迎讨论;

***

> 在开始行动之前之前，我们要先讲解关于使用css制作半圆的方法，我们以 ***左半圆***为例子, 右半圆同理;

首先，我们创建一个`<div></div>`标签，设置他的宽和高都是0,边框为`50px`;

```css
div{
	width：0;
  	height：0;
  	border:50px solid darkred;
}
```

其次，因为我想得到的是左半圆，所以，设置`div`的右边框的宽为0;,并且设置`div`的左上角和左下角为圆角

```css
div{
	width:0;
  	height:0;
  	border:50px solid darkred;
  	border-right:0;
  	border-top-left-radius:50px;
  	border-bottom-left-radius:50px;
}
```

得到：

![半圆](./picture/half.png)



同理，按照上面的方案，我们得到了4个圆：再次强调背左，背右，动左，动右;

​			![背左](./picture/背左.png)![背右](./picture/背右.png)![动左](./picture/动左.png)![动右](./picture/动右.png)

然后，我们要设置它的元素的位置：

### 这里面就要处理两个变量:

* 元素的旋转位置 `transform-origin`

* 元素的position `absolute`

  > 这里依旧拿左圆为例子,元素的id为`upon-left`

```css
/*友情提示：父元素要设置relative哟*/
#upon-left{
    width:0;
    height:0;
    border:50px solid darkred;
    border-right:0;
    border-top-left-radius:50px;
    border-bottom-left-radius:50px;
    /*---------------------------------*/
    position：absolute;
    /*要自己算下面的变量的哟*/ 
    left：$x;
    top:$y;
    transform-origin：$xx $yy;
    /*z-index的值前面已经说了的哟*/
    z-index: $const;
}
```



***

## 现在，我们分为五步来实现旋转变化的圆(*逻辑方案*）：	

> 友情提示：这些脱离文档流的元素的父元素的图层要设置在最底层;

* ### 第一至第三步是让圆消失的：

  * ### 第一步：我们将动态半圆左和动态半圆右拼接成一个圆，背景半圆也要拼接成为一个整的圆形，之后让动态圆覆盖到背景圆上面。下面就是我们的展示; 

  ### 如图所示：

  ![第一步](./picture/%E7%AC%AC1%E6%AD%A5.png)

  * ### 第二步：我们让动右顺时针旋转，旋转180度，完成之后进入图层-1，也就是让动右处于图层的最下面，这时，图像呈现的是动左，背右，下面就是我们的展示。			

  ### 如图所示：

  ![第2步](./picture/%E7%AC%AC2%E6%AD%A5.png)

  ​

  * ### 第三步：动左顺时针转180度，因为他所处的图层是位于背左和背右之间的，所以就会产生消失的假象，下面就是我们的展示。

  ### 如图所示：

  ![第3步](./picture/%E7%AC%AC3%E6%AD%A5.png)


* ### 第四步至最后一步是要显示动态圆的步骤：

  ​

  * ### 第四步：首先我们要对图层进行处理：

    * ### 我们首先确认图层：动左的图层在**2**,动右的图层在**-1**，背左和背右不变，分别在**1**和**3**。

    * ### 我们变化图层：将背左和背右的图层交换，背左的图层变化为**3**,背右的图层变化为**1**,动右的图层先前在图层**-1**,将它变化成为图层**2**，将动左的图层变化成为**-1**;这样，之后动右旋转180度之后呈现半圆渐渐出现的假象;

    * ### 在完成上述的动画后，实现如下的图层转化：将动左的图层转化成为**4**;这时，我们的动画就基本完成了;

  ## 如图所示：

  ![第4步](./picture/%E7%AC%AC4%E6%AD%A5.png)

  * ### 最后一步：将动左的半圆顺时针旋转180度，这样我们的动画就完成了，之后就让这个动画循环展示` infinite` 即可;

### 如图所示：

​		![最后的效果](./picture/%E7%AC%AC1%E6%AD%A5.png)

以上就是我们的关于css3实现闭合旋转圆的所有步骤了;

***

​				肯定有人说 talk is cheap，show me the code

​								**请看下面**



+ 献上Git hub : [哥,点我](https://github.com/swnb/htmlCssJs/blob/master/loading.html)；
+ 献上demo : [点我哟](https://swnb.github.io/htmlCssJs/loading.html)


***

> ### 小白能力有限，纰漏之处在所难免，不足之处，希望大家能指出;



@copyright:  swnb